@page "/Detail/{produktId:int}"

<h2>@product.Name</h2>
<div>
    @if (product.Images.Count == 0)
    {
        <img class="card-img-top" src="https://cdn.vanderbilt.edu/vu-wp0/wp-content/uploads/sites/181/2019/09/09091628/Image-Coming-Soon.png">
    }
    @if (product.Images.Count == 1)
    {
        <img src="@product.Images.FirstOrDefault().Image" alt="Alternate Text" class="img-thumbnail my-4" />
    }
    else
    {
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                @{
                    var first = true;
                }
                @foreach (var item in product.Images)
                {
                    <div class="carousel-item)">
                        <img class="d-block w-100 " src="@item.Image">
                    </div>
                    first = false;
                }
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button"
               data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button"
               data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    }
</div>

<div>
    Id: @product.ProductId
</div>
<div>
    Pris: @product.Price
</div>

@code {

    [Parameter]
    public int produktId { get; set; }

    private Product product;

    protected override void OnInitialized()
    {
        product = _ProductService.GetProduktById(produktId).FirstOrDefault();
    }
}
